{
  "version": 4,
  "terraform_version": "0.14.7",
  "serial": 247,
  "lineage": "b76ea20d-8728-7e78-2909-d00a473d75ec",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "google_compute_network",
      "name": "vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Netbond connectivity to GCP",
            "gateway_ipv4": "",
            "id": "projects/netbond-vpc/global/networks/netbond-vpc",
            "name": "netbond-vpc",
            "project": "netbond-vpc",
            "self_link": "https://www.googleapis.com/compute/v1/projects/netbond-vpc/global/networks/netbond-vpc",
            "subnetworks_self_links": [
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-nonprod-1",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-dig-rx-gke-pt",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/dig-apigee-gke-test-east",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/dig-rx-gke-dev",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-dig-msg-gke-np",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-hce-sbx-gke",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/sn-cvs-nb-use1-dig-rx-gke-prod",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-dig-specialty-gke-poc",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-west2/subnetworks/non-prod-uswest2",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/prod-useast1",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-dig-ms-gke-np",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/non-prod-useast1",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/dig-apigee-gke-prod-east",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/sn-cvs-nb-use4-dig-rx-gke-qa",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/sn-cvs-nb-use1-dig-apigee-aef-test",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/sn-cvs-nb-use1-dig-apigee-aef-prod",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-west1/subnetworks/prod-uswest1",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east4/subnetworks/prod-useast4",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/sn-cvs-nb-use1-ilb-proxy-only-np",
              "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-west2/subnetworks/prod-uswest2"
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "google_compute_subnetwork",
      "name": "vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "gateway_address": "10.243.64.1",
            "id": "projects/netbond-vpc/regions/us-east1/subnetworks/non-prod-useast1",
            "ip_cidr_range": "10.243.64.0/24",
            "name": "non-prod-useast1",
            "network": "https://www.googleapis.com/compute/v1/projects/netbond-vpc/global/networks/netbond-vpc",
            "private_ip_google_access": true,
            "project": "netbond-vpc",
            "region": "us-east1",
            "secondary_ip_range": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/non-prod-useast1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_service_account",
      "name": "vault-admin",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "vault-admin",
            "description": "",
            "display_name": "Vault Admin",
            "email": "vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "id": "projects/digital-rx-dev/serviceAccounts/vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "name": "projects/digital-rx-dev/serviceAccounts/vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "project": "digital-rx-dev",
            "timeouts": null,
            "unique_id": "108172975285961680391"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "data",
      "type": "template_file",
      "name": "vault-startup-script",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "72b45e9604fd13dfba9a7cd328977c25c22ed86e79956f981b191da9545f5d39",
            "rendered": "#!/bin/sh\n\n#run the script as root\n# Download and install Vault\nyum install -y yum-utils\nyum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nyum -y install vault\n\nmkdir -p /home/vault/vault-data\n\ninstall -o vault -g vault -m 750 -d /home/vault\n\ncd /home/vault\n\nchown -R vault:vault /home/vault/\n\ntouch /etc/vault.d/config.hcl\n\n# Vault config\ncat\u003e /etc/vault.d/config.hcl \u003c\u003c EOPY\n\n# Enable HA backend storage with GCS\nstorage \"gcs\" {\n  bucket    = \"digital-rx-dev-vault\"\n  ha_enabled = \"true\"\n}\n\n# Create local non-TLS listener\nlistener \"tcp\" {\n  address     = \"0.0.0.0:8200\"\n  tls_disable = \"true\"\n}\n\ndisable_mlock = true\n\n# Run Vault in HA mode. Even if there's only one Vault node.\napi_addr = \"http://34.102.159.217:8200\"\n\n#cluster address set to default address\ncluster_addr = \"http://34.102.159.217:8201\"\n\n# Enable the UI\nui = true\nEOPY\n\nchown -R vault:vault /etc/vault.d/\nchmod 640 /etc/vault.d/config.hcl\n\ntouch /etc/systemd/system/vault.service\n\n# Systemd service\ncat\u003e /etc/systemd/system/vault.service \u003c\u003cEOPY\n[Unit]\nDescription=HashiCorp Vault to manage secrets\nDocumentation=https://vaultproject.io/docs/\nAfter=network.target\nConditionFileNotEmpty=/etc/vault.d/config.hcl\n[Service]\nUser=vault\nGroup=vault\nExecStart=/usr/bin/vault server -config=/etc/vault.d/config.hcl\nExecReload=/usr/local/bin/kill --signal HUP $MAINPID\nCapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\nAmbientCapabilities=CAP_IPC_LOCK\nSecureBits=keep-caps\nNoNewPrivileges=yes\nKillSignal=SIGINT\n[Install]\nWantedBy=multi-user.target\nEOPY\nchmod 640 /etc/systemd/system/vault.service\n\nsystemctl daemon-reload\nsystemctl start vault.service\nsystemctl enable vault.service\nsystemctl status vault.service\n\nsleep 10s\n\n# Setup vault env\nexport VAULT_ADDR='http://127.0.0.1:8200'\n\n# Enable auto-unsealing with operator init\nvault operator init  \u003e\u003e /etc/vault.d/init.file \n\nkey1=\"$(awk '/Unseal Key 1/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key1\"\nkey2=\"$(awk '/Unseal Key 2/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key2\"\nkey3=\"$(awk '/Unseal Key 3/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key3\"\ntoken= \"$(awk '/Initial Root Token/ {print $4}' /etc/vault.d/init.file)\"\n\nvault operator unseal \"$key1\"\nvault operator unseal \"$key2\"\nvault operator unseal \"$key3\"",
            "template": "#!/bin/sh\n\n#run the script as root\n# Download and install Vault\nyum install -y yum-utils\nyum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nyum -y install vault\n\nmkdir -p /home/vault/vault-data\n\ninstall -o vault -g vault -m 750 -d /home/vault\n\ncd /home/vault\n\nchown -R vault:vault /home/vault/\n\ntouch /etc/vault.d/config.hcl\n\n# Vault config\ncat\u003e /etc/vault.d/config.hcl \u003c\u003c EOPY\n\n# Enable HA backend storage with GCS\nstorage \"gcs\" {\n  bucket    = \"${vault_tls_bucket}\"\n  ha_enabled = \"true\"\n}\n\n# Create local non-TLS listener\nlistener \"tcp\" {\n  address     = \"0.0.0.0:${vault_port}\"\n  tls_disable = \"true\"\n}\n\ndisable_mlock = true\n\n# Run Vault in HA mode. Even if there's only one Vault node.\napi_addr = \"http://${api_addr}:${vault_port}\"\n\n#cluster address set to default address\ncluster_addr = \"http://${api_addr}:${vault_proxy_port}\"\n\n# Enable the UI\nui = true\nEOPY\n\nchown -R vault:vault /etc/vault.d/\nchmod 640 /etc/vault.d/config.hcl\n\ntouch /etc/systemd/system/vault.service\n\n# Systemd service\ncat\u003e /etc/systemd/system/vault.service \u003c\u003cEOPY\n[Unit]\nDescription=HashiCorp Vault to manage secrets\nDocumentation=https://vaultproject.io/docs/\nAfter=network.target\nConditionFileNotEmpty=/etc/vault.d/config.hcl\n[Service]\nUser=vault\nGroup=vault\nExecStart=/usr/bin/vault server -config=/etc/vault.d/config.hcl\nExecReload=/usr/local/bin/kill --signal HUP $MAINPID\nCapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\nAmbientCapabilities=CAP_IPC_LOCK\nSecureBits=keep-caps\nNoNewPrivileges=yes\nKillSignal=SIGINT\n[Install]\nWantedBy=multi-user.target\nEOPY\nchmod 640 /etc/systemd/system/vault.service\n\nsystemctl daemon-reload\nsystemctl start vault.service\nsystemctl enable vault.service\nsystemctl status vault.service\n\nsleep 10s\n\n# Setup vault env\nexport VAULT_ADDR='http://127.0.0.1:${vault_port}'\n\n# Enable auto-unsealing with operator init\nvault operator init  \u003e\u003e /etc/vault.d/init.file \n\nkey1=\"$(awk '/Unseal Key 1/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key1\"\nkey2=\"$(awk '/Unseal Key 2/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key2\"\nkey3=\"$(awk '/Unseal Key 3/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key3\"\ntoken= \"$(awk '/Initial Root Token/ {print $4}' /etc/vault.d/init.file)\"\n\nvault operator unseal \"$key1\"\nvault operator unseal \"$key2\"\nvault operator unseal \"$key3\"",
            "vars": {
              "api_addr": "34.102.159.217",
              "service_account_email": "vault-admin@digital-rx-dev.iam.gserviceaccount.com",
              "vault_args": "",
              "vault_port": "8200",
              "vault_proxy_port": "8201",
              "vault_tls_bucket": "digital-rx-dev-vault"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_backend_service",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "affinity_cookie_ttl_sec": 0,
            "backend": [
              {
                "balancing_mode": "UTILIZATION",
                "capacity_scaler": 1,
                "description": "",
                "group": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1/instanceGroups/vault-instance-group",
                "max_connections": 0,
                "max_connections_per_endpoint": 0,
                "max_connections_per_instance": 0,
                "max_rate": 0,
                "max_rate_per_endpoint": 0,
                "max_rate_per_instance": 0,
                "max_utilization": 0.8
              }
            ],
            "cdn_policy": [],
            "circuit_breakers": [],
            "connection_draining_timeout_sec": 300,
            "consistent_hash": [],
            "creation_timestamp": "2021-04-21T10:49:04.594-07:00",
            "custom_request_headers": [],
            "description": "",
            "enable_cdn": false,
            "fingerprint": "gINd-sQioEY=",
            "health_checks": [
              "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/httpsHealthChecks/vts-health-https"
            ],
            "iap": [],
            "id": "projects/digital-rx-dev/global/backendServices/vault-backend",
            "load_balancing_scheme": "EXTERNAL",
            "locality_lb_policy": "",
            "log_config": [],
            "name": "vault-backend",
            "outlier_detection": [],
            "port_name": "https",
            "project": "digital-rx-dev",
            "protocol": "HTTPS",
            "security_policy": "",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/backendServices/vault-backend",
            "session_affinity": "NONE",
            "timeout_sec": 10,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_https_health_check.default",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_compute_region_instance_group_manager.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_global_forwarding_rule",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "id": "projects/digital-rx-dev/global/forwardingRules/vault-lb-frontend",
            "ip_address": "34.102.159.217",
            "ip_protocol": "TCP",
            "ip_version": "",
            "load_balancing_scheme": "EXTERNAL",
            "metadata_filters": [],
            "name": "vault-lb-frontend",
            "port_range": "443-443",
            "project": "digital-rx-dev",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/forwardingRules/vault-lb-frontend",
            "target": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/targetHttpsProxies/vault-target-proxy",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_backend_service.default",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_https_health_check.default",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_compute_region_instance_group_manager.default",
            "module.vault_cluster.google_compute_ssl_certificate.default",
            "module.vault_cluster.google_compute_target_https_proxy.default",
            "module.vault_cluster.google_compute_url_map.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_health_check",
      "name": "autoheal",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "check_interval_sec": 10,
            "creation_timestamp": "2021-04-21T10:48:11.770-07:00",
            "description": "",
            "grpc_health_check": [],
            "healthy_threshold": 1,
            "http2_health_check": [],
            "http_health_check": [
              {
                "host": "",
                "port": 8200,
                "port_name": "",
                "port_specification": "",
                "proxy_header": "NONE",
                "request_path": "/v1/sys/health?uninitcode=200",
                "response": ""
              }
            ],
            "https_health_check": [],
            "id": "projects/digital-rx-dev/global/healthChecks/vault-health-autoheal",
            "name": "vault-health-autoheal",
            "project": "digital-rx-dev",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/healthChecks/vault-health-autoheal",
            "ssl_health_check": [],
            "tcp_health_check": [],
            "timeout_sec": 5,
            "timeouts": null,
            "type": "HTTP",
            "unhealthy_threshold": 2
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_https_health_check",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "check_interval_sec": 5,
            "creation_timestamp": "2021-04-21T10:48:13.843-07:00",
            "description": "",
            "healthy_threshold": 2,
            "host": "",
            "id": "projects/digital-rx-dev/global/httpsHealthChecks/vts-health-https",
            "name": "vts-health-https",
            "port": 443,
            "project": "digital-rx-dev",
            "request_path": "/v1/sys/health?uninitcode=200",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/httpsHealthChecks/vts-health-https",
            "timeout_sec": 5,
            "timeouts": null,
            "unhealthy_threshold": 2
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_instance_template",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "can_ip_forward": false,
            "confidential_instance_config": [],
            "description": "",
            "disk": [
              {
                "auto_delete": true,
                "boot": true,
                "device_name": "persistent-disk-0",
                "disk_encryption_key": [],
                "disk_name": "",
                "disk_size_gb": 0,
                "disk_type": "pd-ssd",
                "interface": "SCSI",
                "labels": {},
                "mode": "READ_WRITE",
                "resource_policies": [],
                "source": "",
                "source_image": "projects/centos-cloud/global/images/centos-7-v20180129",
                "type": "PERSISTENT"
              }
            ],
            "enable_display": null,
            "guest_accelerator": [],
            "id": "projects/digital-rx-dev/global/instanceTemplates/vault-20210421180854455800000001",
            "instance_description": "",
            "labels": null,
            "machine_type": "n1-standard-4",
            "metadata": {
              "google-compute-enable-virtio-rng": "true",
              "startup-script": "#!/bin/sh\n\n#run the script as root\n# Download and install Vault\nyum install -y yum-utils\nyum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo\nyum -y install vault\n\nmkdir -p /home/vault/vault-data\n\ninstall -o vault -g vault -m 750 -d /home/vault\n\ncd /home/vault\n\nchown -R vault:vault /home/vault/\n\ntouch /etc/vault.d/config.hcl\n\n# Vault config\ncat\u003e /etc/vault.d/config.hcl \u003c\u003c EOPY\n\n# Enable HA backend storage with GCS\nstorage \"gcs\" {\n  bucket    = \"digital-rx-dev-vault\"\n  ha_enabled = \"true\"\n}\n\n# Create local non-TLS listener\nlistener \"tcp\" {\n  address     = \"0.0.0.0:8200\"\n  tls_disable = \"true\"\n}\n\ndisable_mlock = true\n\n# Run Vault in HA mode. Even if there's only one Vault node.\napi_addr = \"http://34.102.159.217:8200\"\n\n#cluster address set to default address\ncluster_addr = \"http://34.102.159.217:8201\"\n\n# Enable the UI\nui = true\nEOPY\n\nchown -R vault:vault /etc/vault.d/\nchmod 640 /etc/vault.d/config.hcl\n\ntouch /etc/systemd/system/vault.service\n\n# Systemd service\ncat\u003e /etc/systemd/system/vault.service \u003c\u003cEOPY\n[Unit]\nDescription=HashiCorp Vault to manage secrets\nDocumentation=https://vaultproject.io/docs/\nAfter=network.target\nConditionFileNotEmpty=/etc/vault.d/config.hcl\n[Service]\nUser=vault\nGroup=vault\nExecStart=/usr/bin/vault server -config=/etc/vault.d/config.hcl\nExecReload=/usr/local/bin/kill --signal HUP $MAINPID\nCapabilityBoundingSet=CAP_SYSLOG CAP_IPC_LOCK\nAmbientCapabilities=CAP_IPC_LOCK\nSecureBits=keep-caps\nNoNewPrivileges=yes\nKillSignal=SIGINT\n[Install]\nWantedBy=multi-user.target\nEOPY\nchmod 640 /etc/systemd/system/vault.service\n\nsystemctl daemon-reload\nsystemctl start vault.service\nsystemctl enable vault.service\nsystemctl status vault.service\n\nsleep 10s\n\n# Setup vault env\nexport VAULT_ADDR='http://127.0.0.1:8200'\n\n# Enable auto-unsealing with operator init\nvault operator init  \u003e\u003e /etc/vault.d/init.file \n\nkey1=\"$(awk '/Unseal Key 1/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key1\"\nkey2=\"$(awk '/Unseal Key 2/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key2\"\nkey3=\"$(awk '/Unseal Key 3/ {print $4}' /etc/vault.d/init.file)\"\necho \"$key3\"\ntoken= \"$(awk '/Initial Root Token/ {print $4}' /etc/vault.d/init.file)\"\n\nvault operator unseal \"$key1\"\nvault operator unseal \"$key2\"\nvault operator unseal \"$key3\""
            },
            "metadata_fingerprint": "nI_4RmsnBlU=",
            "metadata_startup_script": null,
            "min_cpu_platform": "",
            "name": "vault-20210421180854455800000001",
            "name_prefix": "vault-",
            "network_interface": [
              {
                "access_config": [],
                "alias_ip_range": [],
                "name": "nic0",
                "network": "https://www.googleapis.com/compute/v1/projects/netbond-vpc/global/networks/netbond-vpc",
                "network_ip": "",
                "nic_type": "",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/netbond-vpc/regions/us-east1/subnetworks/non-prod-useast1",
                "subnetwork_project": "netbond-vpc"
              }
            ],
            "project": "digital-rx-dev",
            "region": "us-east1",
            "scheduling": [
              {
                "automatic_restart": true,
                "node_affinities": [],
                "on_host_maintenance": "MIGRATE",
                "preemptible": false
              }
            ],
            "self_link": "https://www.googleapis.com/compute/beta/projects/digital-rx-dev/global/instanceTemplates/vault-20210421180854455800000001",
            "service_account": [
              {
                "email": "vault-admin@digital-rx-dev.iam.gserviceaccount.com",
                "scopes": [
                  "https://www.googleapis.com/auth/cloud-platform"
                ]
              }
            ],
            "shielded_instance_config": [],
            "tags": [
              "gce-int-lb",
              "gke-int-lb"
            ],
            "tags_fingerprint": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_storage_bucket.vault"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_region_autoscaler",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "autoscaling_policy": [
              {
                "cooldown_period": 300,
                "cpu_utilization": [
                  {
                    "target": 0.8
                  }
                ],
                "load_balancing_utilization": [],
                "max_replicas": 5,
                "metric": [],
                "min_replicas": 1,
                "mode": "ON",
                "scale_in_control": []
              }
            ],
            "creation_timestamp": "2021-04-21T10:49:05.808-07:00",
            "description": "",
            "id": "projects/digital-rx-dev/regions/us-east1/autoscalers/vault-autoscale",
            "name": "vault-autoscale",
            "project": "digital-rx-dev",
            "region": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1/autoscalers/vault-autoscale",
            "target": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1/instanceGroupManagers/vault-instance-group",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_compute_region_instance_group_manager.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_region_instance_group_manager",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_healing_policies": [
              {
                "health_check": "https://www.googleapis.com/compute/beta/projects/digital-rx-dev/global/healthChecks/vault-health-autoheal",
                "initial_delay_sec": 60
              }
            ],
            "base_instance_name": "default-test-vm",
            "description": "",
            "distribution_policy_target_shape": "EVEN",
            "distribution_policy_zones": [
              "us-east1-b"
            ],
            "fingerprint": "urfXwG6xpWQ=",
            "id": "projects/digital-rx-dev/regions/us-east1/instanceGroupManagers/vault-instance-group",
            "instance_group": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1/instanceGroups/vault-instance-group",
            "name": "vault-instance-group",
            "named_port": [
              {
                "name": "vault-http",
                "port": 8200
              }
            ],
            "project": "digital-rx-dev",
            "region": "us-east1",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/regions/us-east1/instanceGroupManagers/vault-instance-group",
            "stateful_disk": [],
            "target_pools": [],
            "target_size": 1,
            "timeouts": null,
            "update_policy": [
              {
                "instance_redistribution_type": "PROACTIVE",
                "max_surge_fixed": 0,
                "max_surge_percent": 0,
                "max_unavailable_fixed": 1,
                "max_unavailable_percent": 0,
                "min_ready_sec": 0,
                "minimal_action": "REPLACE",
                "replacement_method": "SUBSTITUTE",
                "type": "PROACTIVE"
              }
            ],
            "version": [
              {
                "instance_template": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/instanceTemplates/vault-20210421180854455800000001",
                "name": "",
                "target_size": []
              }
            ],
            "wait_for_instances": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_ssl_certificate",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate": "-----BEGIN CERTIFICATE-----\nMIIJbTCCCFWgAwIBAgIQAsBeUrMBaxbgvAaLxt/L1zANBgkqhkiG9w0BAQsFADBN\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMScwJQYDVQQDEx5E\naWdpQ2VydCBTSEEyIFNlY3VyZSBTZXJ2ZXIgQ0EwHhcNMjEwNDA2MDAwMDAwWhcN\nMjIwMTEyMjM1OTU5WjCBiDELMAkGA1UEBhMCVVMxFTATBgNVBAgTDFJob2RlIElz\nbGFuZDETMBEGA1UEBxMKV29vbnNvY2tldDEZMBcGA1UEChMQQ1ZTIFBoYXJtYWN5\nIEluYzEyMDAGA1UEAxMpcmFuY2hlci1sYWIuaW50ZXJuYWwuY29ycC5jdnNjYXJl\nbWFyay5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDBYL0tZfYE\nseiUJFyB6/geZRFJl5a4xSZP+fl/JU/7/lgN9KxxkDW5RMXigPPX1nCgwIRJwcRa\npHNu32VXsfx1ReLaYFwB3DaqlfRq6VMBjCpS06ezlrOx2dPJqF1JNKfN9ktIkgiD\nZIiVEnpkATVfpkeoh9HeLIjNhaEErNMQ+iz7NJ/C0mjIfn5RZqVl+PaBEBWFNdSb\n9jFMyJIGC5EV3jSO1/8PM98GxREndIF1ia+OwiRMczPLm/nesXiwD6KgVPFN+Djw\nnctRc7cn8fMeffDx4MZukenu5u8SrwHGNLeyE7tUsmcL9wZMEjkm0e/v4TJDTFs9\n5e/lMI/mjgR3AgMBAAGjggYLMIIGBzAfBgNVHSMEGDAWgBQPgGEcgjFh1S8o541G\nOLQs4cbZ4jAdBgNVHQ4EFgQU5Xr9lLaJXcaJHUH4K4DDMUWPO2MwggK5BgNVHREE\nggKwMIICrIIpcmFuY2hlci1sYWIuaW50ZXJuYWwuY29ycC5jdnNjYXJlbWFyay5j\nb22CK2t1YmVub2RlMS1zYW5kYm94LWVhc3QuY29ycC5jdnNjYXJlbWFyay5jb22C\nK2t1YmVub2RlMi1zYW5kYm94LWVhc3QuY29ycC5jdnNjYXJlbWFyay5jb22CK2t1\nYmVub2RlMy1zYW5kYm94LWVhc3QuY29ycC5jdnNjYXJlbWFyay5jb22CK2t1YmVu\nb2RlNC1zYW5kYm94LWVhc3QuY29ycC5jdnNjYXJlbWFyay5jb22CK2t1YmVub2Rl\nNS1zYW5kYm94LWVhc3QuY29ycC5jdnNjYXJlbWFyay5jb22CKnJhbmNoZXIxLXNh\nbmRib3gtZWFzdC5jb3JwLmN2c2NhcmVtYXJrLmNvbYIqcmFuY2hlcjItc2FuZGJv\neC1lYXN0LmNvcnAuY3ZzY2FyZW1hcmsuY29tgipyYW5jaGVyMy1zYW5kYm94LWVh\nc3QuY29ycC5jdnNjYXJlbWFyay5jb22CH3JhbmNoZXItc2IuY29ycC5jdnNjYXJl\nbWFyay5jb22CH21zLXNhbmRib3guY29ycC5jdnNjYXJlbWFyay5jb22CIHZhdWx0\nLWRldmxiLmNvcnAuY3ZzY2FyZW1hcmsuY29tgiR2YXVsdC1kZXYxLWVhc3QuY29y\ncC5jdnNjYXJlbWFyay5jb22CJHZhdWx0LWRldjItZWFzdC5jb3JwLmN2c2NhcmVt\nYXJrLmNvbYIkdmF1bHQtZGV2My1lYXN0LmNvcnAuY3ZzY2FyZW1hcmsuY29tgiRz\nYW5kYm94c2VydmljZXMuY29ycC5jdnNjYXJlbWFyay5jb22CHnZhdWx0LWRldi5j\nb3JwLmN2c2NhcmVtYXJrLmNvbTAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYI\nKwYBBQUHAwEGCCsGAQUFBwMCMIGIBgNVHR8EgYAwfjA9oDugOYY3aHR0cDovL2Ny\nbDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0U0hBMlNlY3VyZVNlcnZlckNBLmNybDA9\noDugOYY3aHR0cDovL2NybDQuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0U0hBMlNlY3Vy\nZVNlcnZlckNBLmNybDA+BgNVHSAENzA1MDMGBmeBDAECAjApMCcGCCsGAQUFBwIB\nFhtodHRwOi8vd3d3LmRpZ2ljZXJ0LmNvbS9DUFMwfgYIKwYBBQUHAQEEcjBwMCQG\nCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wSAYIKwYBBQUHMAKG\nPGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFNIQTJTZWN1cmVT\nZXJ2ZXJDQS0yLmNydDAMBgNVHRMBAf8EAjAAMIIBfgYKKwYBBAHWeQIEAgSCAW4E\nggFqAWgAdgApeb7wnjk5IfBWc59jpXflvld9nGAK+PlNXSZcJV3HhAAAAXioMeu5\nAAAEAwBHMEUCIGuNyhKckbx8a6zu7fEG/0PcoSCflioRGIAJ3E5gCaGvAiEAyRJ9\n3O8MF6dZfzx94LlsobxGv+7bX4AQ8QaZy6i4OzUAdgAiRUUHWVUkVpY/oS/x922G\n4CMmY63AS39dxoNcbuIPAgAAAXioMevqAAAEAwBHMEUCIQDnae+gSmucYg5I9cpY\nkgP1pciXGjVJVapn5Aqb8Nvl+AIgML2dGZhPN2r4Dv+mY8nXWP8yGatgTOLQTH/X\nUwd1B8MAdgBRo7D1/QF5nFZtuDd4jwykeswbJ8v3nohCmg3+1IsF5QAAAXioMewe\nAAAEAwBHMEUCIQDarckyBMccaF0ikEcMArlTmvEHhuDxNO+Bhg4W4I1dewIgfFCF\nh6/iZwscKY0TupUs808k/uWdoEMeHXaIItlbjvAwDQYJKoZIhvcNAQELBQADggEB\nAFo6dZR22GTe/xlmSmAWH4GyybXOIzzASQnhYgXVRHJJUKQVgITwk8AESiV1Risg\n0yRxLYspCC+AYCP78CEnnzDtzhEE2w5B16HvbQoSsSJNaTHD46WWUH2XWYwC+3SO\nEihmoB3mrAo1CNxK/GkKlEOdd03K790QT1X2bSAdzbwfnhjkzXw+2C0mAjnIO1Nq\nmtwGBKd7nD2x/Ftci9V5FXwJtX1DtrnIk81SJpgjDk5wP2ML1yW79mfxmVhG+cLP\nQHoHXJ47ZoSgIY2VfEqyUdPpTX42zxjXCp+oXciPbDXkupa5B+joEtSuExYV/9Dc\n2ddadkalRIyCAG2yoLzC4h0=\n-----END CERTIFICATE-----",
            "certificate_id": 6408587582488042419,
            "creation_timestamp": "2021-04-21T10:48:12.998-07:00",
            "description": "",
            "id": "projects/digital-rx-dev/global/sslCertificates/vault-certs",
            "name": "vault-certs",
            "name_prefix": null,
            "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwWC9LWX2BLHolCRcgev4HmURSZeWuMUmT/n5fyVP+/5YDfSs\ncZA1uUTF4oDz19ZwoMCEScHEWqRzbt9lV7H8dUXi2mBcAdw2qpX0aulTAYwqUtOn\ns5azsdnTyahdSTSnzfZLSJIIg2SIlRJ6ZAE1X6ZHqIfR3iyIzYWhBKzTEPos+zSf\nwtJoyH5+UWalZfj2gRAVhTXUm/YxTMiSBguRFd40jtf/DzPfBsURJ3SBdYmvjsIk\nTHMzy5v53rF4sA+ioFTxTfg48J3LUXO3J/HzHn3w8eDGbpHp7ubvEq8BxjS3shO7\nVLJnC/cGTBI5JtHv7+EyQ0xbPeXv5TCP5o4EdwIDAQABAoIBABs1524fxqD9fxp4\nDV5TcRv8dmodFF6BO2AN7uTMasys4FYXuOYtTSn55UB3NcNdejFcivYtTQRrgeS2\n4aCX5nbYCSZXtcql4o6uwBsFJE13nC2rI7zFDBm5atru6oWBDSBnCPaNZKOcfg2V\nRoyTkPTvGxk6AgwvHGboZ/JroTLmSkVp4MzWDEhCSNBsOePu/sTXnlTcRafg9npn\nAJ9EeeAKMA3ibSq8rTW167BxDsIJ6D6PEn5ahGsuUOfj5kUYGpp+accb/1NjPDoa\nShMLmixQwSTxQTuL58BCnvU6f/053TbBWv/F3fP29aRQZzot37toE2CldGTOSgIV\n3PKoObkCgYEA8sl75ryzvuSsXQz0rkNt2VNtaIoIhDe4ALuRwyOoxMxdeltldG9P\nINJ5H9XgiXO3fNThIJ5J7jqcAWLN1rCiWBV8UJOUXKI9QyVxAEVMuWKILNFRB944\n7kZrnAKWmfnGJL+SrTFWvnHArt2IRNYeKNoyX2R3WupZJE17LPTXHL8CgYEAy+bi\nmjMSiKSnviJxQz6Of+4yfxumIXC0N1lez1bpStAluN8AXMKbfWpDdJdcPT9l3FeG\nZ1Kw57oOKuZmuKenE+vkCytaRD+JnSUGGdFrgFlmQGinJpBQ5YT3UsCfqAnlqF/1\n7+iHVBFnNK6rGCIEGrMtMIXILfiGGKrtQyKTrkkCgYBbsSqBDv1Xd+d80PrLoZ2n\n+TEVzSPAQ4bTiANZzmrbwE8BeekMG0moHLUwB8dgQfqnQ4KunflP5oSqpVUV4um9\nGIg1qjba8U7vwAE4V/PNA+BoBLl0nkGkA6Z6aiPUjRd/I3bSwBKBpFZf9DyVusPz\nK8zgaAIHrP/zjOubI/Dl4wKBgQCIpWKXFEMHb9E6irp85h95fJg6trzPDEi6DxqK\nuSP/Dx84lboYcBLkKaKrMASQxzvsPnvEIpaLtRRpi56rgS9nGl7pXVRRCIOg3H8K\nLl5s1XzBDWF3Zp/QMRvOSWi1pGxUOnsHHD4VCNSxaZ0fvywg+JMAQae1pye2wFXg\n9/sggQKBgEGx+DanUPzSIawbZy2nC0rA0umk/XGADT4YzmDe+VFuDRO5hYZ5NLkd\ncqexL6l2CbtQmpIegCReeNGFyg6OS/zvLbs2j+JDl9ZSVwfrNVXzifQNNZlXXaPS\nAE38euVxNmmI5UydvBHTd0dRyfdaFjfXNjr94TgcjT7WmczRhtCo\n-----END RSA PRIVATE KEY-----",
            "project": "digital-rx-dev",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/sslCertificates/vault-certs",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_target_https_proxy",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2021-04-21T10:49:30.372-07:00",
            "description": "",
            "id": "projects/digital-rx-dev/global/targetHttpsProxies/vault-target-proxy",
            "name": "vault-target-proxy",
            "project": "digital-rx-dev",
            "proxy_bind": false,
            "proxy_id": 5318425892357004101,
            "quic_override": "NONE",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/targetHttpsProxies/vault-target-proxy",
            "ssl_certificates": [
              "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/sslCertificates/vault-certs"
            ],
            "ssl_policy": "",
            "timeouts": null,
            "url_map": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/urlMaps/vault-url-map"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_backend_service.default",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_https_health_check.default",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_compute_region_instance_group_manager.default",
            "module.vault_cluster.google_compute_ssl_certificate.default",
            "module.vault_cluster.google_compute_url_map.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_compute_url_map",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "creation_timestamp": "2021-04-21T10:49:17.895-07:00",
            "default_route_action": [],
            "default_service": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/backendServices/vault-backend",
            "default_url_redirect": [],
            "description": "",
            "fingerprint": "Uk7M16Zy7Xk=",
            "header_action": [],
            "host_rule": [
              {
                "description": "",
                "hosts": [
                  "vault-dev.corp.cvscaremark.com"
                ],
                "path_matcher": "all"
              }
            ],
            "id": "projects/digital-rx-dev/global/urlMaps/vault-url-map",
            "map_id": 7669115678765210482,
            "name": "vault-url-map",
            "path_matcher": [
              {
                "default_route_action": [],
                "default_service": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/backendServices/vault-backend",
                "default_url_redirect": [],
                "description": "",
                "header_action": [],
                "name": "all",
                "path_rule": [
                  {
                    "paths": [
                      "/*"
                    ],
                    "route_action": [],
                    "service": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/backendServices/vault-backend",
                    "url_redirect": []
                  }
                ],
                "route_rules": []
              }
            ],
            "project": "digital-rx-dev",
            "self_link": "https://www.googleapis.com/compute/v1/projects/digital-rx-dev/global/urlMaps/vault-url-map",
            "test": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH19",
          "dependencies": [
            "data.google_compute_subnetwork.vault",
            "google_service_account.vault-admin",
            "module.vault_cluster.data.template_file.vault-startup-script",
            "module.vault_cluster.google_compute_backend_service.default",
            "module.vault_cluster.google_compute_health_check.autoheal",
            "module.vault_cluster.google_compute_https_health_check.default",
            "module.vault_cluster.google_compute_instance_template.default",
            "module.vault_cluster.google_compute_region_instance_group_manager.default",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "project-iam",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "roles/editor",
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwXAfysBm8Q=",
            "id": "digital-rx-dev/roles/editor/serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "member": "serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "project": "digital-rx-dev",
            "role": "roles/editor"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.vault-admin"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_project_service",
      "name": "service",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "cloudkms.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/cloudkms.googleapis.com",
            "project": "digital-rx-dev",
            "service": "cloudkms.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudresourcemanager.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/cloudresourcemanager.googleapis.com",
            "project": "digital-rx-dev",
            "service": "cloudresourcemanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "compute.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/compute.googleapis.com",
            "project": "digital-rx-dev",
            "service": "compute.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "iam.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/iam.googleapis.com",
            "project": "digital-rx-dev",
            "service": "iam.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "logging.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/logging.googleapis.com",
            "project": "digital-rx-dev",
            "service": "logging.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "monitoring.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "digital-rx-dev/monitoring.googleapis.com",
            "project": "digital-rx-dev",
            "service": "monitoring.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_policy_only": false,
            "cors": [],
            "default_event_based_hold": false,
            "encryption": [],
            "force_destroy": true,
            "id": "digital-rx-dev-vault",
            "labels": {},
            "lifecycle_rule": [],
            "location": "US",
            "logging": [],
            "name": "digital-rx-dev-vault",
            "project": "digital-rx-dev",
            "requester_pays": false,
            "retention_policy": [],
            "self_link": "https://www.googleapis.com/storage/v1/b/digital-rx-dev-vault",
            "storage_class": "STANDARD",
            "uniform_bucket_level_access": false,
            "url": "gs://digital-rx-dev-vault",
            "versioning": [],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "tls-bucket-iam",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "b/digital-rx-dev-vault",
            "condition": [],
            "etag": "CAM=",
            "id": "b/digital-rx-dev-vault/roles/storage.objectViewer/serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "member": "serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "role": "roles/storage.objectViewer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.vault-admin",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    },
    {
      "module": "module.vault_cluster",
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "roles/storage.objectAdmin",
          "schema_version": 0,
          "attributes": {
            "bucket": "b/digital-rx-dev-vault",
            "condition": [],
            "etag": "CAM=",
            "id": "b/digital-rx-dev-vault/roles/storage.objectAdmin/serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "member": "serviceAccount:vault-admin@digital-rx-dev.iam.gserviceaccount.com",
            "role": "roles/storage.objectAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "google_service_account.vault-admin",
            "module.vault_cluster.google_storage_bucket.vault"
          ]
        }
      ]
    }
  ]
}
